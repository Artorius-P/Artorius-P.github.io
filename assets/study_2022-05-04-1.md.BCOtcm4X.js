import{_ as i,c as a,o as n,ag as p}from"./chunks/framework.tfLYlFWj.js";const g=JSON.parse('{"title":"OpenCV C++ å­¦ä¹ ç¬”è®°","description":"","frontmatter":{"title":"OpenCV C++ å­¦ä¹ ç¬”è®°","date":"2022-05-04T00:00:00.000Z","lang":"zh_CN","categories":["study"]},"headers":[],"relativePath":"study/2022-05-04-1.md","filePath":"study/2022-05-04-1.md","lastUpdated":1758246806000}'),h={name:"study/2022-05-04-1.md"};function k(l,s,t,e,E,d){return n(),a("div",null,[...s[0]||(s[0]=[p(`<h1 id="opencv-c-å­¦ä¹ ç¬”è®°" tabindex="-1">OpenCV C++ å­¦ä¹ ç¬”è®° <a class="header-anchor" href="#opencv-c-å­¦ä¹ ç¬”è®°" aria-label="Permalink to &quot;OpenCV C++ å­¦ä¹ ç¬”è®°&quot;">â€‹</a></h1><p>æœ€è¿‘é¡¹ç›®éœ€è¦ä½¿ç”¨åŸºäºC++ç‰ˆæœ¬çš„OpenCVï¼Œåˆè¢«è¿«å¼€äº†ä¸€ä¸ªæ–°å‘ã€‚</p><h2 id="opencvçš„ç¼–è¯‘å®‰è£…" tabindex="-1">OpenCVçš„ç¼–è¯‘å®‰è£… <a class="header-anchor" href="#opencvçš„ç¼–è¯‘å®‰è£…" aria-label="Permalink to &quot;OpenCVçš„ç¼–è¯‘å®‰è£…&quot;">â€‹</a></h2><p>æœ¬æ¥å‡†å¤‡ä½¿ç”¨Archä»“åº“é‡Œè‡ªå¸¦çš„opencvï¼Œå¥ˆä½•ç¼–è¯‘å‡ºé—®é¢˜ï¼Œåªå¥½è‡ªå·±ç¼–è¯‘ã€‚æ²¡æƒ³åˆ°ä¸€ä¸‹å°±è¸©è¿›å¦ä¸€ä¸ªå‘ã€‚</p><p>ä½¿ç”¨è§†é¢‘æµè¾“å…¥è¾“å‡ºéœ€è¦ä½¿ç”¨ffmpegï¼Œç„¶è€Œffmpegä»4.xåˆ°5.xä½œå‡ºäº†å·¨å¤§çš„æ”¹åŠ¨ï¼ŒOpenCV4.5.5è¿˜æ²¡æœ‰æ”¯æŒ5.xç‰ˆæœ¬çš„ffmpegã€‚ å¯¼è‡´ç¼–è¯‘åˆ°ç™¾åˆ†ä¹‹ä¸‰åå¤šçš„æ—¶å€™ä¼šå› ä¸ºffmpegçš„apiå˜äº†è€ŒæŠ¥é”™ã€‚æ‰€ä»¥å°±éœ€è¦è‡ªå·±æŒ‡å®šffmpegç‰ˆæœ¬ã€‚Archä»“åº“é‡Œè‡ªå¸¦äº†4.4ç‰ˆæœ¬çš„ffmpegã€‚å…ˆå®‰è£…ï¼Œç„¶åè¦ä¿®æ”¹opencvçš„cmakeæ–‡ä»¶ã€‚</p><p>åœ¨å¯»æ‰¾ffmpegçš„cmakeä»£ç <code>opencv/modules/videoio/cmake/detect_ffmpeg.cmake</code>çš„å¼€å¤´æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-CMake vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">CMake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NOT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HAVE_FFMPEG </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OPENCV_FFMPEG_USE_FIND_PACKAGE)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OPENCV_FFMPEG_USE_FIND_PACKAGE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">STREQUAL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> OR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OPENCV_FFMPEG_USE_FIND_PACKAGE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">STREQUAL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ON&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OPENCV_FFMPEG_USE_FIND_PACKAGE </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FFMPEG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  endif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  find_package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">\${OPENCV_FFMPEG_USE_FIND_PACKAGE}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Required components: AVCODEC AVFORMAT AVUTIL SWSCALE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FFMPEG_FOUND </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FFmpeg_FOUND)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HAVE_FFMPEG </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TRUE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  endif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">endif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>å…¶å®å°±æ˜¯ç”¨find_packageæ¥å¯»æ‰¾ffmpegï¼Œç„¶è€Œè¿™æ ·æ‰¾åˆ°çš„ç‰ˆæœ¬å°±æ˜¯5.xçš„ï¼Œæ‰€ä»¥å¾—æ”¹è¿™æ®µä»£ç , å› ä¸º4.4æ²¡æœ‰å¯¹åº”çš„cmakeæ–‡ä»¶ï¼Œæ‰€ä»¥find_packageæ˜¯æ‰¾ä¸åˆ°çš„ã€‚ä½†æ˜¯å®ƒæœ‰pkg-configæ–‡ä»¶<code>/usr/lib/ffmpeg4.4/pkgconfig/</code>ï¼Œ æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨pkg-configæ¥è¿›è¡ŒæŸ¥æ‰¾ã€‚</p><p>ç›´æ¥ä¸Šä»£ç ã€‚</p><div class="language-CMake vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">CMake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NOT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HAVE_FFMPEG </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OPENCV_FFMPEG_USE_FIND_PACKAGE)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OPENCV_FFMPEG_USE_FIND_PACKAGE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">STREQUAL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> OR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OPENCV_FFMPEG_USE_FIND_PACKAGE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">STREQUAL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ON&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    #set(OPENCV_FFMPEG_USE_FIND_PACKAGE &quot;FFMPEG&quot;)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(OPENCV_FFMPEG_USE_FIND_PACKAGE </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PkgConfig REQUIRED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  endif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ENV{PKG_CONFIG_PATH} /usr/lib/ffmpeg4.4/pkgconfig/)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  find_package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">\${OPENCV_FFMPEG_USE_FIND_PACKAGE}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Required components: AVCODEC AVFORMAT AVUTIL SWSCALE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  pkg_check_modules(LIBAV REQUIRED IMPORTED_TARGET</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libavdevice</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libavfilter</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libavformat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libavcodec</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libswresample</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libswscale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    libavutil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(FFMPEG_FOUND </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FFmpeg_FOUND)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(HAVE_FFMPEG </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TRUE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  endif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">endif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>å†æ¬¡ç¼–è¯‘opencvï¼ŒæŠ¥é”™æ¶ˆå¤±ï¼Œé—®é¢˜è§£å†³ã€‚</p><h2 id="åç»­" tabindex="-1">åç»­ <a class="header-anchor" href="#åç»­" aria-label="Permalink to &quot;åç»­&quot;">â€‹</a></h2><p>ç”²æ–¹ä¹Ÿæä¸å®šC++ï¼Œå¦¥åäº†ï¼Œç”¨Pythonäº†ğŸ˜…</p>`,13)])])}const F=i(h,[["render",k]]);export{g as __pageData,F as default};
